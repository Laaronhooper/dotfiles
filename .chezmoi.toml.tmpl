{{- $headless := false -}}
{{- $transient := false -}}
{{- $isovalent := false -}}
{{- $kubernetes := false -}}
{{- $personal := false -}}

{{- if (or (env "CODESPACES") (env "REMOTE_CONTAINERS_IPC")) -}}
{{- $headless = true -}}
{{- $transient = true -}}
{{- end -}}

{{- if (not $transient) -}}
{{- $headless = (eq .chezmoi.hostname "revo" "raspberrypi4") -}}
{{- $isovalent = promptString "isovalent (true/false)" -}}
{{- $personal = promptString "personal (true/false)" -}}
{{- if (eq $isovalent "true") -}}
{{- $kubernetes = true -}}
{{- else -}}
{{- $kubernetes = promptString "kubernetes (true/false)" -}}
{{- end -}}
{{- end -}}

[data]
  headless = {{ $headless }}
  transient = {{ $transient }}
  isovalent = {{ $isovalent }}
  kubernetes = {{ $kubernetes }}
  personal = {{ $personal }}
